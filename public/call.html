<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Відеодзвінки - Сторона користувача</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    /><link rel="stylesheet" href="./css/footer.css" />
    <link rel="stylesheet" href="css/call.css" />
  </head>
  <body>
    <div class="container">
      <div class="sidebar">
        <div class="logo">
          <i class="fas fa-phone-alt"></i>
          <span>ProFix Call</span>
        </div>
        <div class="user-info">
          <div class="avatar">
            <img
              id="user-avatar"
              src="/placeholder.svg?height=50&width=50"
              alt="Аватар користувача"
            />
            <span class="status online"></span>
          </div>
          <div class="user-details">
            <h3 id="username">Користувач</h3>
            <p id="user-status">Онлайн</p>
          </div>
        </div>
        <div class="menu">
          <button class="menu-item active" data-tab="masters">
            <i class="fas fa-users"></i>
            <span>Майстри</span>
          </button>
          <button class="menu-item" data-tab="history">
            <i class="fas fa-history"></i>
            <span>Історія дзвінків</span>
          </button>
          <button class="menu-item" data-tab="settings">
            <i class="fas fa-cog"></i>
            <span>Налаштування</span>
          </button>
        </div>
        <div class="back-to-main">
          <a href="/index.html">
            <i class="fas fa-arrow-left"></i>
            <span>На головну</span>
          </a>
        </div>
      </div>

      <div class="main-content">
        <div class="tab-content active" id="masters-tab">
          <div class="header">
            <h2>Доступні майстри</h2>
            <div class="search-container">
              <input
                type="text"
                id="search-masters"
                placeholder="Пошук майстрів..."
              />
              <i class="fas fa-search"></i>
            </div>
            <div class="filter-container">
              <select id="industry-filter">
                <option value="">Всі галузі</option>
                <!-- Галузі будуть додані через JavaScript -->
              </select>
            </div>
          </div>

          <div class="masters-list" id="masters-list">
            <!-- Список майстрів буде додано через JavaScript -->
            <div class="loading">
              <i class="fas fa-spinner fa-spin"></i>
              <span>Завантаження майстрів...</span>
            </div>
          </div>
        </div>

        <div class="tab-content" id="history-tab">
          <div class="header">
            <h2>Історія дзвінків</h2>
          </div>
          <div class="call-history" id="call-history">
            <!-- Історія дзвінків буде додана через JavaScript -->
            <div class="loading">
              <i class="fas fa-spinner fa-spin"></i>
              <span>Завантаження історії...</span>
            </div>
          </div>
        </div>

        <div class="tab-content" id="settings-tab">
          <div class="header">
            <h2>Налаштування</h2>
          </div>
          <div class="settings-container">
            <div class="settings-group">
              <h3>Налаштування аудіо та відео</h3>
              <div class="setting-item">
                <label for="audio-input">Мікрофон:</label>
                <select id="audio-input">
                  <!-- Буде додано через JavaScript -->
                </select>
              </div>
              <div class="setting-item">
                <label for="video-input">Камера:</label>
                <select id="video-input">
                  <!-- Буде додано через JavaScript -->
                </select>
              </div>
              <div class="setting-item">
                <label for="audio-output">Динаміки:</label>
                <select id="audio-output">
                  <!-- Буде додано через JavaScript -->
                </select>
              </div>
            </div>
            <div class="settings-group">
              <h3>Тестування пристроїв</h3>
              <div class="device-test">
                <button id="test-audio" class="test-button">
                  <i class="fas fa-microphone"></i>
                  Перевірити мікрофон
                </button>
                <div id="audio-level" class="level-meter">
                  <div class="level-bar"></div>
                </div>
              </div>
              <div class="device-test">
                <button id="test-video" class="test-button">
                  <i class="fas fa-video"></i>
                  Перевірити камеру
                </button>
                <div id="video-preview-container" class="video-preview">
                  <video id="video-preview" autoplay muted></video>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Модальне вікно для дзвінка -->
    <div class="call-modal" id="call-modal">
      <div class="call-container">
        <div class="call-header">
          <h3 id="call-status">З'єднання...</h3>
          <span id="call-timer">00:00</span>
        </div>
        <div class="video-container">
          <div class="remote-video-container">
            <video id="remote-video" autoplay></video>
            <div class="remote-info">
              <h4 id="remote-name">Майстер</h4>
            </div>
          </div>
          <div class="local-video-container">
            <video id="local-video" autoplay muted></video>
          </div>
        </div>
        <div class="call-controls">
          <button id="toggle-mic" class="control-button">
            <i class="fas fa-microphone"></i>
          </button>
          <button id="toggle-video" class="control-button">
            <i class="fas fa-video"></i>
          </button>
          <button id="end-call" class="control-button end-call">
            <i class="fas fa-phone-slash"></i>
          </button>
          <button id="toggle-fullscreen" class="control-button">
            <i class="fas fa-expand"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Модальне вікно для вхідного дзвінка -->
    <div class="incoming-call-modal" id="incoming-call-modal">
      <div class="incoming-call-container">
        <div class="caller-info">
          <div class="caller-avatar">
            <img
              id="caller-avatar"
              src="/placeholder.svg?height=80&width=80"
              alt="Аватар"
            />
          </div>
          <h3 id="caller-name">Ім'я майстра</h3>
          <p>Вхідний дзвінок</p>
        </div>
        <div class="incoming-call-controls">
          <button id="accept-call" class="call-button accept">
            <i class="fas fa-phone"></i>
            Прийняти
          </button>
          <button id="decline-call" class="call-button decline">
            <i class="fas fa-phone-slash"></i>
            Відхилити
          </button>
        </div>
      </div>
    </div>
    <!-- Footer -->
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-section">
          <div class="footer-logo">
            <i class="fas fa-tools"></i>
            ProFix Network Hub
          </div>
          <p class="footer-description">
            ProFix Network Hub — ваш надійний партнер у світі професійних
            послуг. Ми об'єднуємо досвід і інновації, щоб забезпечити найкращі
            рішення для ваших потреб у різних галузях.
          </p>
          <div class="footer-social">
            <a href="#" class="social-icon" aria-label="Facebook">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" class="social-icon" aria-label="Instagram">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="#" class="social-icon" aria-label="Twitter">
              <i class="fab fa-twitter"></i>
            </a>
            <a href="#" class="social-icon" aria-label="YouTube">
              <i class="fab fa-youtube"></i>
            </a>
          </div>
        </div>

        <div class="footer-section">
          <h3 class="footer-title">Контакти</h3>
          <div class="footer-contact">
            <div class="contact-icon">
              <i class="fas fa-map-marker-alt"></i>
            </div>
            <div class="contact-info">
              <div class="contact-label">Адреса</div>
              <div class="contact-value">м. Житомир, вул. Чуднівська, 103</div>
            </div>
          </div>
          <div class="footer-contact">
            <div class="contact-icon">
              <i class="fas fa-phone-alt"></i>
            </div>
            <div class="contact-info">
              <div class="contact-label">Телефон</div>
              <div class="contact-value">
                <a href="tel:+380123456789">+380 96 538 3239</a>
              </div>
            </div>
          </div>
          <div class="footer-contact">
            <div class="contact-icon">
              <i class="fas fa-envelope"></i>
            </div>
            <div class="contact-info">
              <div class="contact-label">Email</div>
              <div class="contact-value">
                <a href="mailto:info@profixhub.com"
                  >24g_chvv@liceum.ztu.edu.ua</a
                >
              </div>
            </div>
          </div>
          <div class="footer-contact">
            <div class="contact-icon">
              <i class="fas fa-clock"></i>
            </div>
            <div class="contact-info">
              <div class="contact-label">Графік роботи</div>
              <div class="contact-value">Пн-Пт: 9:00 - 18:00</div>
            </div>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p class="copyright">
          &copy; 2025 ProFix Network Hub. Всі права захищені.
        </p>
      </div>
    </footer>

    <!-- Звуки -->
    <audio id="ringtone" loop>
      <source src="/sounds/ringtone.mp3" type="audio/mp3" />
    </audio>
    <audio id="call-end-sound">
      <source src="/sounds/call-end.mp3" type="audio/mp3" />
    </audio>

    <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
    <script src="js/call.js"></script>
  </body>
</html>
