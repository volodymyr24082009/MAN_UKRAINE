<!DOCTYPE html>
<html lang="uk" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Адмін-панель - ProFix Network Hub</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --background-dark: #1a1a1a;
      --background-light: #f5f5f5;
      --text-dark: #fff;
      --text-light: #333;
      --primary-color: #ff3300;
      --secondary-color: #ff6600;
      --accent-color: #007bff;
      --success-color: #00cc00;
      --warning-color: #ffcc00;
      --danger-color: #cc0000;
      --info-color: #0066cc;
      --card-bg-dark: #2a2a2a;
      --card-bg-light: #ffffff;
      --border-color-dark: #444;
      --border-color-light: #ddd;
      --hover-bg-dark: #333;
      --hover-bg-light: #eee;
    }

    html {
      scroll-behavior: smooth;
      height: 100%;
      font-size: 16px;
    }

    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      background: var(--background-dark);
      background-image: 
        radial-gradient(rgba(255, 51, 0, 0.05) 1px, transparent 1px),
        radial-gradient(rgba(255, 51, 0, 0.05) 1px, transparent 1px);
      background-size: 50px 50px;
      background-position: 0 0, 25px 25px;
      padding: 20px;
      color: var(--text-dark);
      font-family: 'Roboto', Arial, sans-serif;
      transition: background 0.3s ease, color 0.3s ease;
      margin: 0;
      overflow-x: hidden;
    }

    html.light body {
      background: var(--background-light);
      color: var(--text-light);
      background-image: 
        radial-gradient(rgba(255, 51, 0, 0.03) 1px, transparent 1px),
        radial-gradient(rgba(255, 51, 0, 0.03) 1px, transparent 1px);
    }

    /* Контейнер */
    .container {
      width: 100%;
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Хедер */
    header {
      width: 100%;
      background: linear-gradient(145deg, #222222, #333333);
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
      margin-bottom: 20px;
      padding: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 10px;
      transition: all 0.3s ease;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    html.light header {
      background: linear-gradient(145deg, #e0e0e0, #f0f0f0);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    /* Лого */
    .logo {
      font-size: clamp(1.2rem, 2vw, 1.8rem);
      font-weight: bold;
      color: var(--primary-color);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo i {
      font-size: 1.5em;
    }

    /* Кнопки навігації */
    .nav-buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    button {
      padding: 10px 15px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }

    button:active {
      transform: translateY(0);
    }

    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    button i {
      font-size: 1.1em;
    }

    /* Перемикач теми */
    .theme-switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 30px;
    }

    .theme-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #333;
      transition: .4s;
      border-radius: 30px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 5px;
    }

    html.light .slider {
      background-color: #ccc;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 22px;
      width: 22px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: var(--primary-color);
    }

    input:checked + .slider:before {
      transform: translateX(30px);
    }

    /* Основний контент */
    main {
      width: 100%;
      max-width: 1400px;
      margin: 0 auto;
      padding: 20px;
    }

    h1, h2 {
      font-size: clamp(1.8rem, 3vw, 2.5rem);
      margin-bottom: 20px;
      text-align: center;
      color: var(--primary-color);
      position: relative;
      padding-bottom: 10px;
    }

    h1:after, h2:after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 3px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
      border-radius: 3px;
    }

    h2 {
      font-size: clamp(1.5rem, 2.5vw, 2rem);
      margin-top: 40px;
    }

    /* Таблиця */
    .table-container {
      overflow-x: auto;
      margin-bottom: 30px;
      border-radius: 10px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      background: linear-gradient(145deg, #222222, #333333);
    }

    html.light .table-container {
      background: linear-gradient(145deg, #e0e0e0, #f0f0f0);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      overflow: hidden;
    }

    th, td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    html.light th, html.light td {
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }

    th {
      background-color: var(--primary-color);
      color: white;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-weight: 600;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    tbody tr {
      transition: background-color 0.3s ease;
    }

    tbody tr:hover {
      background-color: rgba(255, 255, 255, 0.05);
    }

    html.light tbody tr:hover {
      background-color: rgba(0, 0, 0, 0.05);
    }

    /* Статуси */
    .status {
      padding: 5px 10px;
      border-radius: 4px;
      font-size: 0.8rem;
      display: inline-block;
      font-weight: bold;
    }

    .status-pending {
      background-color: rgba(255, 165, 0, 0.2);
      color: orange;
    }

    .status-approved {
      background-color: rgba(0, 255, 0, 0.2);
      color: #00cc00;
    }

    .status-rejected {
      background-color: rgba(255, 0, 0, 0.2);
      color: #ff0000;
    }

    .status-completed {
      background-color: rgba(0, 0, 255, 0.2);
      color: #0088ff;
    }

    /* Кнопки дій */
    .action-buttons {
      display: flex;
      gap: 5px;
      flex-wrap: wrap;
    }

    .approve-btn {
      background: linear-gradient(90deg, #00cc00, #00aa00);
    }

    .reject-btn {
      background: linear-gradient(90deg, #cc0000, #aa0000);
    }

    .complete-btn {
      background: linear-gradient(90deg, #0066cc, #0044aa);
    }

    .call-btn {
      background: linear-gradient(90deg, #9900cc, #7700aa);
    }

    .edit-btn {
      background: linear-gradient(90deg, #ffaa00, #ff8800);
    }

    .view-btn {
      background: linear-gradient(90deg, #00aacc, #0088aa);
    }

    /* Вкладки */
    .tabs {
      display: flex;
      margin-bottom: 20px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      overflow-x: auto;
      scrollbar-width: thin;
      scrollbar-color: var(--primary-color) transparent;
    }

    html.light .tabs {
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }

    .tab {
      padding: 12px 20px;
      cursor: pointer;
      background: transparent;
      border: none;
      color: var(--text-dark);
      font-weight: 600;
      position: relative;
      transition: all 0.3s ease;
      white-space: nowrap;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    html.light .tab {
      color: var(--text-light);
    }

    .tab i {
      font-size: 1.2em;
    }

    .tab.active {
      color: var(--primary-color);
    }

    .tab.active::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      width: 100%;
      height: 3px;
      background-color: var(--primary-color);
    }

    .tab-content {
      display: none;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .tab-content.active {
      display: block;
    }

    /* Пошук і фільтри */
    .filters-container {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
      padding: 15px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 10px;
    }

    html.light .filters-container {
      background: rgba(0, 0, 0, 0.05);
    }

    .search-container {
      flex: 1;
      min-width: 200px;
      position: relative;
    }

    .search-container input {
      width: 100%;
      padding: 10px 15px 10px 40px;
      border: none;
      border-radius: 5px;
      background-color: rgba(255, 255, 255, 0.1);
      color: var(--text-dark);
      font-size: 1rem;
      transition: all 0.3s ease;
    }

    html.light .search-container input {
      background-color: rgba(0, 0, 0, 0.05);
      color: var(--text-light);
    }

    .search-container i {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--primary-color);
    }

    .search-container input:focus {
      outline: none;
      box-shadow: 0 0 0 2px var(--primary-color);
      background-color: rgba(255, 255, 255, 0.15);
    }

    html.light .search-container input:focus {
      background-color: rgba(0, 0, 0, 0.1);
    }

    .filter-select {
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      background-color: rgba(255, 255, 255, 0.1);
      color: var(--text-dark);
      font-size: 1rem;
      transition: all 0.3s ease;
      min-width: 150px;
    }

    html.light .filter-select {
      background-color: rgba(0, 0, 0, 0.05);
      color: var(--text-light);
    }

    .filter-select:focus {
      outline: none;
      box-shadow: 0 0 0 2px var(--primary-color);
    }

    /* Пагінація */
    .pagination {
      display: flex;
      justify-content: center;
      gap: 5px;
      margin-top: 20px;
      margin-bottom: 30px;
    }

    .pagination button {
      padding: 8px 12px;
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-dark);
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    html.light .pagination button {
      background: rgba(0, 0, 0, 0.05);
      color: var(--text-light);
    }

    .pagination button.active {
      background: var(--primary-color);
      color: white;
    }

    .pagination button:hover:not(.active) {
      background: rgba(255, 255, 255, 0.2);
    }

    html.light .pagination button:hover:not(.active) {
      background: rgba(0, 0, 0, 0.1);
    }

    /* Модальне вікно */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      justify-content: center;
      align-items: center;
      animation: fadeIn 0.3s ease;
    }

    .modal-content {
      background: linear-gradient(145deg, #222222, #333333);
      border-radius: 10px;
      padding: 20px;
      width: 90%;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 5px 30px rgba(0, 0, 0, 0.5);
      position: relative;
      animation: slideIn 0.3s ease;
    }

    html.light .modal-content {
      background: linear-gradient(145deg, #e0e0e0, #f0f0f0);
    }

    @keyframes slideIn {
      from { transform: translateY(-50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .close-modal {
      position: absolute;
      top: 15px;
      right: 15px;
      font-size: 1.5rem;
      color: var(--text-dark);
      cursor: pointer;
      transition: color 0.3s ease;
    }

    html.light .close-modal {
      color: var(--text-light);
    }

    .close-modal:hover {
      color: var(--primary-color);
    }

    .modal-title {
      margin-top: 0;
      color: var(--primary-color);
      text-align: center;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      margin-bottom: 20px;
    }

    html.light .modal-title {
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: 600;
    }

    .form-control {
      width: 100%;
      padding: 10px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 5px;
      background-color: rgba(255, 255, 255, 0.05);
      color: var(--text-dark);
      font-size: 1rem;
      transition: all 0.3s ease;
    }

    html.light .form-control {
      border: 1px solid rgba(0, 0, 0, 0.1);
      background-color: rgba(0, 0, 0, 0.02);
      color: var(--text-light);
    }

    .form-control:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 2px rgba(255, 51, 0, 0.2);
    }

    textarea.form-control {
      min-height: 100px;
      resize: vertical;
    }

    /* Статистика */
    .stats-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .stat-card {
      background: linear-gradient(145deg, #222222, #333333);
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    html.light .stat-card {
      background: linear-gradient(145deg, #e0e0e0, #f0f0f0);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .stat-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
    }

    html.light .stat-card:hover {
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }

    .stat-icon {
      font-size: 2.5rem;
      color: var(--primary-color);
      margin-bottom: 15px;
    }

    .stat-value {
      font-size: 2rem;
      font-weight: bold;
      margin-bottom: 5px;
    }

    .stat-label {
      font-size: 1rem;
      color: rgba(255, 255, 255, 0.7);
      text-align: center;
    }

    html.light .stat-label {
      color: rgba(0, 0, 0, 0.7);
    }

    /* Сповіщення */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 20px;
      border-radius: 5px;
      color: white;
      font-weight: 600;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 10px;
      transform: translateX(120%);
      transition: transform 0.3s ease;
      max-width: 350px;
    }

    .notification.show {
      transform: translateX(0);
    }

    .notification.success {
      background: linear-gradient(90deg, #00cc00, #00aa00);
    }

    .notification.error {
      background: linear-gradient(90deg, #cc0000, #aa0000);
    }

    .notification.info {
      background: linear-gradient(90deg, #0066cc, #0044aa);
    }

    .notification.warning {
      background: linear-gradient(90deg, #ffaa00, #ff8800);
    }

    .notification i {
      font-size: 1.5rem;
    }

    /* Завантажувач */
    .loader-container {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      z-index: 2000;
      justify-content: center;
      align-items: center;
    }

    .loader {
      width: 50px;
      height: 50px;
      border: 5px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: var(--primary-color);
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Експорт даних */
    .export-buttons {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      justify-content: flex-end;
    }

    /* Адаптація */
    @media (max-width: 768px) {
      header {
        flex-direction: column;
        align-items: stretch;
      }

      .nav-buttons {
        flex-direction: column;
        width: 100%;
      }

      button {
        width: 100%;
      }

      .theme-switch-container {
        display: flex;
        justify-content: center;
        margin-top: 10px;
      }

      .stats-container {
        grid-template-columns: 1fr;
      }
      
      .action-buttons {
        flex-direction: column;
      }

      .filters-container {
        flex-direction: column;
      }
    }

    @media (max-width: 480px) {
      body {
        padding: 10px;
      }

      header {
        padding: 10px;
      }

      .logo {
        font-size: 1.2rem;
      }

      button {
        font-size: 0.8rem;
        padding: 8px 12px;
      }

      h1 {
        font-size: 1.5rem;
      }
      
      .tabs {
        flex-wrap: wrap;
      }
      
      .tab {
        flex: 1 0 auto;
        text-align: center;
        padding: 8px 10px;
      }
    }

    /* Графіки */
    .chart-container {
      background: linear-gradient(145deg, #222222, #333333);
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      height: 300px;
    }

    html.light .chart-container {
      background: linear-gradient(145deg, #e0e0e0, #f0f0f0);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    /* Календар */
    .calendar-container {
      background: linear-gradient(145deg, #222222, #333333);
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    html.light .calendar-container {
      background: linear-gradient(145deg, #e0e0e0, #f0f0f0);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .calendar-title {
      font-size: 1.2rem;
      font-weight: bold;
    }

    .calendar-nav {
      display: flex;
      gap: 10px;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
    }

    .calendar-day-header {
      text-align: center;
      font-weight: bold;
      padding: 5px;
    }

    .calendar-day {
      aspect-ratio: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      position: relative;
    }

    .calendar-day:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }

    html.light .calendar-day:hover {
      background-color: rgba(0, 0, 0, 0.05);
    }

    .calendar-day.today {
      border: 2px solid var(--primary-color);
    }

    .calendar-day.has-events::after {
      content: '';
      position: absolute;
      bottom: 5px;
      width: 5px;
      height: 5px;
      background-color: var(--primary-color);
      border-radius: 50%;
    }

    /* Додаткові стилі для нових функцій */
    .user-info {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-left: auto;
      margin-right: 20px;
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: var(--primary-color);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 1.2rem;
    }

    .user-name {
      font-weight: 600;
    }

    .user-role {
      font-size: 0.8rem;
      opacity: 0.8;
    }

    /* Стилі для нотаток */
    .notes-container {
      background: linear-gradient(145deg, #222222, #333333);
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    html.light .notes-container {
      background: linear-gradient(145deg, #e0e0e0, #f0f0f0);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .notes-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .notes-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 15px;
    }

    .note-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 15px;
      transition: transform 0.3s ease;
      position: relative;
    }

    html.light .note-card {
      background: rgba(0, 0, 0, 0.05);
    }

    .note-card:hover {
      transform: translateY(-5px);
    }

    .note-title {
      font-weight: bold;
      margin-bottom: 10px;
      color: var(--primary-color);
    }

    .note-content {
      margin-bottom: 15px;
      font-size: 0.9rem;
    }

    .note-date {
      font-size: 0.8rem;
      opacity: 0.7;
      text-align: right;
    }

    .note-actions {
      position: absolute;
      top: 10px;
      right: 10px;
      display: flex;
      gap: 5px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .note-card:hover .note-actions {
      opacity: 1;
    }

    .note-action-btn {
      background: none;
      border: none;
      color: var(--text-dark);
      cursor: pointer;
      padding: 5px;
      font-size: 1rem;
      transition: color 0.3s ease;
    }

    html.light .note-action-btn {
      color: var(--text-light);
    }

    .note-action-btn:hover {
      color: var(--primary-color);
      transform: none;
      box-shadow: none;
    }

    /* Стилі для сповіщень */
    .notifications-panel {
      position: fixed;
      top: 70px;
      right: -350px;
      width: 350px;
      max-height: 80vh;
      background: linear-gradient(145deg, #222222, #333333);
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
      transition: right 0.3s ease;
      z-index: 100;
      overflow-y: auto;
    }

    html.light .notifications-panel {
      background: linear-gradient(145deg, #e0e0e0, #f0f0f0);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .notifications-panel.show {
      right: 20px;
    }

    .notifications-header {
      padding: 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    html.light .notifications-header {
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }

    .notifications-list {
      padding: 0;
      margin: 0;
      list-style: none;
    }

    .notification-item {
      padding: 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      transition: background-color 0.3s ease;
    }

    html.light .notification-item {
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }

    .notification-item:hover {
      background-color: rgba(255, 255, 255, 0.05);
    }

    html.light .notification-item:hover {
      background-color: rgba(0, 0, 0, 0.05);
    }

    .notification-title {
      font-weight: bold;
      margin-bottom: 5px;
    }

    .notification-message {
      font-size: 0.9rem;
      margin-bottom: 10px;
    }

    .notification-time {
      font-size: 0.8rem;
      opacity: 0.7;
      text-align: right;
    }

    .notification-badge {
      background-color: var(--primary-color);
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      position: absolute;
      top: -5px;
      right: -5px;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <a href="index.html" class="logo">
        <i class="fas fa-tools"></i>
        ProFix Network Hub
      </a>
      <div class="nav-buttons">
        <button onclick="window.location.href='index.html'">
          <i class="fas fa-home"></i> Головна
        </button>
        <button onclick="window.location.href='profile.html'">
          <i class="fas fa-user"></i> Профіль
        </button>
        <button onclick="window.location.href='auth.html'">
          <i class="fas fa-sign-in-alt"></i> Авторизація
        </button>
        <button id="notificationsBtn">
          <i class="fas fa-bell"></i> Сповіщення
          <span class="notification-badge" id="notificationCount">0</span>
        </button>
      </div>
      <div class="user-info">
        <div class="user-avatar" id="userAvatar">A</div>
        <div>
          <div class="user-name" id="userName">Адміністратор</div>
          <div class="user-role" id="userRole">Адміністратор</div>
        </div>
      </div>
      <div class="theme-switch-container">
        <label class="theme-switch">
          <input type="checkbox" id="themeToggle">
          <span class="slider">
            <span class="moon">🌙</span>
            <span class="sun">☀️</span>
          </span>
        </label>
      </div>
    </header>

    <main>
      <h1>Адмін-панель</h1>
      
      <!-- Статистика -->
      <div class="stats-container">
        <div class="stat-card">
          <i class="fas fa-users stat-icon"></i>
          <div class="stat-value" id="totalUsers">0</div>
          <div class="stat-label">Користувачів</div>
        </div>
        <div class="stat-card">
          <i class="fas fa-user-cog stat-icon"></i>
          <div class="stat-value" id="totalMasters">0</div>
          <div class="stat-label">Майстрів</div>
        </div>
        <div class="stat-card">
          <i class="fas fa-clipboard-list stat-icon"></i>
          <div class="stat-value" id="totalOrders">0</div>
          <div class="stat-label">Заявок</div>
        </div>
        <div class="stat-card">
          <i class="fas fa-check-circle stat-icon"></i>
          <div class="stat-value" id="completedOrders">0</div>
          <div class="stat-label">Завершених заявок</div>
        </div>
      </div>
      
      <!-- Графік активності -->
      <div class="chart-container">
        <canvas id="activityChart"></canvas>
      </div>
      
      <div class="tabs">
        <button class="tab" data-tab="dashboard">
          <i class="fas fa-tachometer-alt"></i> Дашборд
        </button>
        <button class="tab" data-tab="users">
          <i class="fas fa-users"></i> Користувачі
        </button>
        <button class="tab" data-tab="master-requests">
          <i class="fas fa-user-cog"></i> Запити майстрів
        </button>
        <button class="tab active" data-tab="orders">
          <i class="fas fa-clipboard-list"></i> Заявки
        </button>
        <button class="tab" data-tab="calendar">
          <i class="fas fa-calendar-alt"></i> Календар
        </button>
        <button class="tab" data-tab="notes">
          <i class="fas fa-sticky-note"></i> Нотатки
        </button>
        <button class="tab" data-tab="settings">
          <i class="fas fa-cog"></i> Налаштування
        </button>
      </div>
      
      <!-- Дашборд -->
      <div id="dashboard-tab" class="tab-content">
        <h2>Дашборд</h2>
        
        <div class="filters-container">
          <div class="search-container">
            <i class="fas fa-search"></i>
            <input type="text" id="dashboardSearch" placeholder="Пошук...">
          </div>
          <select class="filter-select" id="dashboardPeriodFilter">
            <option value="day">Сьогодні</option>
            <option value="week">Тиждень</option>
            <option value="month" selected>Місяць</option>
            <option value="year">Рік</option>
          </select>
        </div>
        
        <div class="chart-container">
          <canvas id="ordersChart"></canvas>
        </div>
        
        <h3>Останні заявки</h3>
        <div class="table-container">
          <table id="recentOrdersTable">
            <thead>
              <tr>
                <th>ID</th>
                <th>Тема</th>
                <th>Клієнт</th>
                <th>Статус</th>
                <th>Дата</th>
                <th>Дії</th>
              </tr>
            </thead>
            <tbody>
              <!-- Дані будуть додані динамічно -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- Користувачі -->
      <div id="users-tab" class="tab-content">
        <h2>Користувачі</h2>
        
        <div class="filters-container">
          <div class="search-container">
            <i class="fas fa-search"></i>
            <input type="text" id="usersSearch" placeholder="Пошук користувачів...">
          </div>
          <select class="filter-select" id="userRoleFilter">
            <option value="all">Всі ролі</option>
            <option value="user">Користувачі</option>
            <option value="master">Майстри</option>
            <option value="admin">Адміністратори</option>
          </select>
          <select class="filter-select" id="userStatusFilter">
            <option value="all">Всі статуси</option>
            <option value="active">Активні</option>
            <option value="inactive">Неактивні</option>
          </select>
          <button id="addUserBtn">
            <i class="fas fa-plus"></i> Додати користувача
          </button>
        </div>
        
        <div class="export-buttons">
          <button id="exportUsersCSV">
            <i class="fas fa-file-csv"></i> Експорт CSV
          </button>
          <button id="exportUsersPDF">
            <i class="fas fa-file-pdf"></i> Експорт PDF
          </button>
        </div>
        
        <div class="table-container">
          <table id="usersTable">
            <thead>
              <tr>
                <th>ID</th>
                <th>Ім'я користувача</th>
                <th>Роль</th>
                <th>Ім'я</th>
                <th>Прізвище</th>
                <th>Email</th>
                <th>Галузі</th>
                <th>Навички</th>
                <th>Дії</th>
              </tr>
            </thead>
            <tbody>
              <!-- Дані будуть додані динамічно -->
            </tbody>
          </table>
        </div>
        
        <div class="pagination" id="usersPagination">
          <!-- Пагінація буде додана динамічно -->
        </div>
      </div>
      
      <!-- Запити майстрів -->
      <div id="master-requests-tab" class="tab-content">
        <h2>Запити на роль майстра</h2>
        
        <div class="filters-container">
          <div class="search-container">
            <i class="fas fa-search"></i>
            <input type="text" id="requestsSearch" placeholder="Пошук запитів...">
          </div>
          <select class="filter-select" id="requestStatusFilter">
            <option value="all">Всі статуси</option>
            <option value="pending">На розгляді</option>
            <option value="approved">Затверджені</option>
            <option value="rejected">Відхилені</option>
          </select>
          <select class="filter-select" id="requestSortFilter">
            <option value="newest">Спочатку нові</option>
            <option value="oldest">Спочатку старі</option>
          </select>
        </div>
        
        <div class="table-container">
          <table id="masterRequestsTable">
            <thead>
              <tr>
                <th>ID</th>
                <th>Користувач</th>
                <th>Ім'я</th>
                <th>Прізвище</th>
                <th>Email</th>
                <th>Галузі</th>
                <th>Навички</th>
                <th>Статус</th>
                <th>Дата створення</th>
                <th>Дії</th>
              </tr>
            </thead>
            <tbody>
              <!-- Дані будуть додані динамічно -->
            </tbody>
          </table>
        </div>
        
        <div class="pagination" id="requestsPagination">
          <!-- Пагінація буде додана динамічно -->
        </div>
      </div>
      
      <!-- Заявки -->
      <div id="orders-tab" class="tab-content active">
        <h2>Заявки клієнтів</h2>
        
        <div class="filters-container">
          <div class="search-container">
            <i class="fas fa-search"></i>
            <input type="text" id="ordersSearch" placeholder="Пошук заявок...">
          </div>
          <select class="filter-select" id="orderStatusFilter">
            <option value="all">Всі статуси</option>
            <option value="pending">На розгляді</option>
            <option value="approved">Прийняті</option>
            <option value="rejected">Відхилені</option>
            <option value="completed">Завершені</option>
          </select>
          <select class="filter-select" id="orderSortFilter">
            <option value="newest">Спочатку нові</option>
            <option value="oldest">Спочатку старі</option>
          </select>
          <button id="refreshOrdersBtn">
            <i class="fas fa-sync-alt"></i> Оновити
          </button>
        </div>
        
        <div class="export-buttons">
          <button id="exportOrdersCSV">
            <i class="fas fa-file-csv"></i> Експорт CSV
          </button>
          <button id="exportOrdersPDF">
            <i class="fas fa-file-pdf"></i> Експорт PDF
          </button>
        </div>
        
        <div class="table-container">
          <table id="ordersTable">
            <thead>
              <tr>
                <th>ID</th>
                <th>Тема</th>
                <th>Опис</th>
                <th>Клієнт</th>
                <th>Телефон</th>
                <th>Статус</th>
                <th>Майстер</th>
                <th>Дата створення</th>
                <th>Дії</th>
              </tr>
            </thead>
            <tbody>
              <!-- Дані будуть додані динамічно -->
            </tbody>
          </table>
        </div>
        
        <div class="pagination" id="ordersPagination">
          <!-- Пагінація буде додана динамічно -->
        </div>
      </div>
      
      <!-- Календар -->
      <div id="calendar-tab" class="tab-content">
        <h2>Календар заявок</h2>
        
        <div class="calendar-container">
          <div class="calendar-header">
            <div class="calendar-nav">
              <button id="prevMonth">
                <i class="fas fa-chevron-left"></i>
              </button>
              <button id="nextMonth">
                <i class="fas fa-chevron-right"></i>
              </button>
            </div>
            <div class="calendar-title" id="calendarTitle">Березень 2025</div>
            <button id="todayBtn">Сьогодні</button>
          </div>
          
          <div class="calendar-grid" id="calendarGrid">
            <!-- Календар буде додано динамічно -->
          </div>
        </div>
        
        <h3>Заявки на обрану дату</h3>
        <div class="table-container">
          <table id="calendarOrdersTable">
            <thead>
              <tr>
                <th>ID</th>
                <th>Тема</th>
                <th>Клієнт</th>
                <th>Статус</th>
                <th>Час</th>
                <th>Дії</th>
              </tr>
            </thead>
            <tbody>
              <!-- Дані будуть додані динамічно -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- Нотатки -->
      <div id="notes-tab" class="tab-content">
        <h2>Нотатки</h2>
        
        <div class="notes-header">
          <div class="search-container">
            <i class="fas fa-search"></i>
            <input type="text" id="notesSearch" placeholder="Пошук нотаток...">
          </div>
          <button id="addNoteBtn">
            <i class="fas fa-plus"></i> Додати нотатку
          </button>
        </div>
        
        <div class="notes-list" id="notesList">
          <!-- Нотатки будуть додані динамічно -->
        </div>
      </div>
      
      <!-- Налаштування -->
      <div id="settings-tab" class="tab-content">
        <h2>Налаштування</h2>
        
        <div class="form-group">
          <label for="siteTitle">Назва сайту</label>
          <input type="text" id="siteTitle" class="form-control" value="ProFix Network Hub">
        </div>
        
        <div class="form-group">
          <label for="adminEmail">Email адміністратора</label>
          <input type="email" id="adminEmail" class="form-control" value="admin@profixnetwork.com">
        </div>
        
        <div class="form-group">
          <label for="itemsPerPage">Елементів на сторінці</label>
          <input type="number" id="itemsPerPage" class="form-control" value="10" min="5" max="100">
        </div>
        
        <div class="form-group">
          <label>Налаштування сповіщень</label>
          <div>
            <input type="checkbox" id="notifyNewOrders" checked>
            <label for="notifyNewOrders">Сповіщати про нові заявки</label>
          </div>
          <div>
            <input type="checkbox" id="notifyNewUsers" checked>
            <label for="notifyNewUsers">Сповіщати про нових користувачів</label>
          </div>
          <div>
            <input type="checkbox" id="notifyMasterRequests" checked>
            <label for="notifyMasterRequests">Сповіщати про запити майстрів</label>
          </div>
        </div>
        
        <button id="saveSettingsBtn">
          <i class="fas fa-save"></i> Зберегти налаштування
        </button>
      </div>
    </main>
  </div>
  
  <!-- Модальне вікно для редагування користувача -->
  <div class="modal" id="userModal">
    <div class="modal-content">
      <span class="close-modal" id="closeUserModal">&times;</span>
      <h3 class="modal-title">Редагування користувача</h3>
      <form id="userForm">
        <input type="hidden" id="userId">
        <div class="form-group">
          <label for="username">Ім'я користувача</label>
          <input type="text" id="username" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="firstName">Ім'я</label>
          <input type="text" id="firstName" class="form-control">
        </div>
        <div class="form-group">
          <label for="lastName">Прізвище</label>
          <input type="text" id="lastName" class="form-control">
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="userRole">Роль</label>
          <select id="userRole" class="form-control">
            <option value="user">Користувач</option>
            <option value="master">Майстер</option>
            <option value="admin">Адміністратор</option>
          </select>
        </div>
        <div class="form-group">
          <label for="userStatus">Статус</label>
          <select id="userStatus" class="form-control">
            <option value="active">Активний</option>
            <option value="inactive">Неактивний</option>
          </select>
        </div>
        <button type="submit">Зберегти</button>
      </form>
    </div>
  </div>
  
  <!-- Модальне вікно для перегляду заявки -->
  <div class="modal" id="orderModal">
    <div class="modal-content">
      <span class="close-modal" id="closeOrderModal">&times;</span>
      <h3 class="modal-title">Деталі заявки</h3>
      <div id="orderDetails">
        <!-- Деталі заявки будуть додані динамічно -->
      </div>
      <div class="form-group">
        <label for="orderStatus">Змінити статус</label>
        <select id="orderStatus" class="form-control">
          <option value="pending">На розгляді</option>
          <option value="approved">Прийнято</option>
          <option value="rejected">Відхилено</option>
          <option value="completed">Завершено</option>
        </select>
      </div>
      <div class="form-group">
        <label for="assignMaster">Призначити майстра</label>
        <select id="assignMaster" class="form-control">
          <option value="">Виберіть майстра</option>
          <!-- Майстри будуть додані динамічно -->
        </select>
      </div>
      <div class="form-group">
        <label for="orderNote">Примітка</label>
        <textarea id="orderNote" class="form-control"></textarea>
      </div>
      <button id="saveOrderBtn">Зберегти зміни</button>
    </div>
  </div>
  
  <!-- Модальне вікно для додавання нотатки -->
  <div class="modal" id="noteModal">
    <div class="modal-content">
      <span class="close-modal" id="closeNoteModal">&times;</span>
      <h3 class="modal-title">Додати нотатку</h3>
      <form id="noteForm">
        <input type="hidden" id="noteId">
        <div class="form-group">
          <label for="noteTitle">Заголовок</label>
          <input type="text" id="noteTitle" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="noteContent">Зміст</label>
          <textarea id="noteContent" class="form-control" required></textarea>
        </div>
        <button type="submit">Зберегти</button>
      </form>
    </div>
  </div>
  
  <!-- Панель сповіщень -->
  <div class="notifications-panel" id="notificationsPanel">
    <div class="notifications-header">
      <h3>Сповіщення</h3>
      <button id="markAllReadBtn">Позначити всі як прочитані</button>
    </div>
    <ul class="notifications-list" id="notificationsList">
      <!-- Сповіщення будуть додані динамічно -->
    </ul>
  </div>
  
  <!-- Сповіщення -->
  <div class="notification" id="notification">
    <i class="fas fa-info-circle"></i>
    <div id="notificationText"></div>
  </div>
  
  <!-- Завантажувач -->
  <div class="loader-container" id="loader">
    <div class="loader"></div>
  </div>

  <!-- Підключення Chart.js для графіків -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <script>
    // Глобальні змінні
    let currentPage = {
      users: 1,
      requests: 1,
      orders: 1
    };
    let itemsPerPage = 10;
    let userData = [];
    let requestsData = [];
    let ordersData = [];
    let notesData = [];
    let notificationsData = [];
    let selectedDate = new Date();
    
    // Ініціалізація при завантаженні сторінки
    document.addEventListener('DOMContentLoaded', function() {
      // Перевірка теми
      checkTheme();
      
      // Ініціалізація вкладок
      initTabs();
      
      // Завантаження даних
      loadDashboardData();
      
      // Ініціалізація подій
      initEvents();
      
      // Ініціалізація графіків
      initCharts();
      
      // Ініціалізація календаря
      initCalendar();
      
      // Імітація отримання даних користувача
      getUserData();
      
      // Завантаження заявок (активна вкладка за замовчуванням)
      loadOrders();
      
      // Імітація отримання сповіщень
      loadNotifications();
    });
    
    // Перевірка теми
    function checkTheme() {
      const themeToggle = document.getElementById('themeToggle');
      const htmlElement = document.documentElement;
      
      // Перевірка збереженої теми
      if (localStorage.getItem('theme') === 'light') {
        htmlElement.classList.remove('dark');
        htmlElement.classList.add('light');
        themeToggle.checked = true;
      }
      
      // Перемикання теми при натисканні на перемикач
      themeToggle.addEventListener('change', function() {
        if (this.checked) {
          htmlElement.classList.remove('dark');
          htmlElement.classList.add('light');
          localStorage.setItem('theme', 'light');
        } else {
          htmlElement.classList.remove('light');
          htmlElement.classList.add('dark');
          localStorage.setItem('theme', 'dark');
        }
        
        // Оновлення графіків при зміні теми
        updateCharts();
      });
    }
    
    // Ініціалізація вкладок
    function initTabs() {
      const tabs = document.querySelectorAll('.tab');
      const tabContents = document.querySelectorAll('.tab-content');
      
      tabs.forEach(tab => {
        tab.addEventListener('click', function() {
          const tabId = this.getAttribute('data-tab');
          
          // Видалення активного класу з усіх вкладок і контенту
          tabs.forEach(t => t.classList.remove('active'));
          tabContents.forEach(c => c.classList.remove('active'));
          
          // Додавання активного класу до поточної вкладки і контенту
          this.classList.add('active');
          document.getElementById(`${tabId}-tab`).classList.add('active');
          
          // Завантаження даних для активної вкладки
          if (tabId === 'users') {
            loadUsers();
          } else if (tabId === 'master-requests') {
            loadMasterRequests();
          } else if (tabId === 'orders') {
            loadOrders();
          } else if (tabId === 'dashboard') {
            loadDashboardData();
          } else if (tabId === 'notes') {
            loadNotes();
          } else if (tabId === 'calendar') {
            updateCalendar();
          }
        });
      });
    }
    
    // Ініціалізація подій
    function initEvents() {
      // Кнопка оновлення заявок
      document.getElementById('refreshOrdersBtn').addEventListener('click', loadOrders);
      
      // Пошук заявок
      document.getElementById('ordersSearch').addEventListener('input', function() {
        filterOrders();
      });
      
      // Фільтр статусу заявок
      document.getElementById('orderStatusFilter').addEventListener('change', function() {
        filterOrders();
      });
      
      // Фільтр сортування заявок
      document.getElementById('orderSortFilter').addEventListener('change', function() {
        filterOrders();
      });
      
      // Пошук користувачів
      document.getElementById('usersSearch').addEventListener('input', function() {
        filterUsers();
      });
      
      // Фільтр ролі користувачів
      document.getElementById('userRoleFilter').addEventListener('change', function() {
        filterUsers();
      });
      
      // Фільтр статусу користувачів
      document.getElementById('userStatusFilter').addEventListener('change', function() {
        filterUsers();
      });
      
      // Пошук запитів майстрів
      document.getElementById('requestsSearch').addEventListener('input', function() {
        filterRequests();
      });
      
      // Фільтр статусу запитів
      document.getElementById('requestStatusFilter').addEventListener('change', function() {
        filterRequests();
      });
      
      // Фільтр сортування запитів
      document.getElementById('requestSortFilter').addEventListener('change', function() {
        filterRequests();
      });
      
      // Кнопка додавання користувача
      document.getElementById('addUserBtn').addEventListener('click', function() {
        openUserModal();
      });
      
      // Закриття модального вікна користувача
      document.getElementById('closeUserModal').addEventListener('click', function() {
        document.getElementById('userModal').style.display = 'none';
      });
      
      // Форма користувача
      document.getElementById('userForm').addEventListener('submit', function(e) {
        e.preventDefault();
        saveUser();
      });
      
      // Закриття модального вікна заявки
      document.getElementById('closeOrderModal').addEventListener('click', function() {
        document.getElementById('orderModal').style.display = 'none';
      });
      
      // Кнопка збереження заявки
      document.getElementById('saveOrderBtn').addEventListener('click', function() {
        saveOrder();
      });
      
      // Кнопка додавання нотатки
      document.getElementById('addNoteBtn').addEventListener('click', function() {
        openNoteModal();
      });
      
      // Закриття модального вікна нотатки
      document.getElementById('closeNoteModal').addEventListener('click', function() {
        document.getElementById('noteModal').style.display = 'none';
      });
      
      // Форма нотатки
      document.getElementById('noteForm').addEventListener('submit', function(e) {
        e.preventDefault();
        saveNote();
      });
      
      // Кнопка збереження налаштувань
      document.getElementById('saveSettingsBtn').addEventListener('click', function() {
        saveSettings();
      });
      
      // Кнопка експорту користувачів у CSV
      document.getElementById('exportUsersCSV').addEventListener('click', function() {
        exportUsersToCSV();
      });
      
      // Кнопка експорту користувачів у PDF
      document.getElementById('exportUsersPDF').addEventListener('click', function() {
        exportUsersToPDF();
      });
      
      // Кнопка експорту заявок у CSV
      document.getElementById('exportOrdersCSV').addEventListener('click', function() {
        exportOrdersToCSV();
      });
      
      // Кнопка експорту заявок у PDF
      document.getElementById('exportOrdersPDF').addEventListener('click', function() {
        exportOrdersToPDF();
      });
      
      // Кнопка сповіщень
      document.getElementById('notificationsBtn').addEventListener('click', function() {
        toggleNotificationsPanel();
      });
      
      // Кнопка позначення всіх сповіщень як прочитаних
      document.getElementById('markAllReadBtn').addEventListener('click', function() {
        markAllNotificationsAsRead();
      });
      
      // Кнопки календаря
      document.getElementById('prevMonth').addEventListener('click', function() {
        changeMonth(-1);
      });
      
      document.getElementById('nextMonth').addEventListener('click', function() {
        changeMonth(1);
      });
      
      document.getElementById('todayBtn').addEventListener('click', function() {
        selectedDate = new Date();
        updateCalendar();
      });
      
      // Закриття панелі сповіщень при кліку поза нею
      document.addEventListener('click', function(e) {
        const notificationsPanel = document.getElementById('notificationsPanel');
        const notificationsBtn = document.getElementById('notificationsBtn');
        
        if (notificationsPanel.classList.contains('show') && 
            !notificationsPanel.contains(e.target) && 
            !notificationsBtn.contains(e.target)) {
          notificationsPanel.classList.remove('show');
        }
      });
      
      // Закриття модальних вікон при кліку поза ними
      window.addEventListener('click', function(e) {
        const userModal = document.getElementById('userModal');
        const orderModal = document.getElementById('orderModal');
        const noteModal = document.getElementById('noteModal');
        
        if (e.target === userModal) {
          userModal.style.display = 'none';
        }
        
        if (e.target === orderModal) {
          orderModal.style.display = 'none';
        }
        
        if (e.target === noteModal) {
          noteModal.style.display = 'none';
        }
      });
    }
    
    // Завантаження даних для дашборду
    function loadDashboardData() {
      showLoader();
      
      // Імітація завантаження даних
      setTimeout(() => {
        // Оновлення статистики
        document.getElementById('totalUsers').textContent = '156';
        document.getElementById('totalMasters').textContent = '42';
        document.getElementById('totalOrders').textContent = '328';
        document.getElementById('completedOrders').textContent = '275';
        
        // Оновлення графіків
        updateCharts();
        
        // Завантаження останніх заявок
        loadRecentOrders();
        
        hideLoader();
      }, 500);
    }
    
    // Завантаження останніх заявок
    function loadRecentOrders() {
      const tableBody = document.querySelector('#recentOrdersTable tbody');
      tableBody.innerHTML = '';
      
      // Імітація даних останніх заявок
      const recentOrders = [
        { id: 328, title: 'Ремонт холодильника', client: 'Іван Петренко', status: 'pending', date: '08.03.2025 14:30' },
        { id: 327, title: 'Заміна розетки', client: 'Марія Коваленко', status: 'approved', date: '08.03.2025 12:15' },
        { id: 326, title: 'Налаштування Wi-Fi', client: 'Олег Сидоренко', status: 'completed', date: '08.03.2025 10:45' },
        { id: 325, title: 'Ремонт пральної машини', client: 'Наталія Шевченко', status: 'completed', date: '07.03.2025 16:20' },
        { id: 324, title: 'Встановлення кондиціонера', client: 'Андрій Мельник', status: 'approved', date: '07.03.2025 14:10' }
      ];
      
      recentOrders.forEach(order => {
        const row = `
          <tr>
            <td>${order.id}</td>
            <td>${order.title}</td>
            <td>${order.client}</td>
            <td><span class="status status-${order.status}">${getStatusText(order.status)}</span></td>
            <td>${order.date}</td>
            <td>
              <button class="view-btn" onclick="viewOrder(${order.id})">
                <i class="fas fa-eye"></i> Переглянути
              </button>
            </td>
          </tr>
        `;
        tableBody.innerHTML += row;
      });
    }
    
    // Завантаження користувачів
    function loadUsers() {
      showLoader();
      
      // Імітація завантаження даних
      setTimeout(() => {
        // Генерація тестових даних
        userData = generateUsers(50);
        
        // Фільтрація та відображення
        filterUsers();
        
        // Генерація пагінації
        generatePagination('usersPagination', userData.length, currentPage.users, itemsPerPage, 'users');
        
        hideLoader();
      }, 500);
    }
    
    // Фільтрація користувачів
    function filterUsers() {
      const searchQuery = document.getElementById('usersSearch').value.toLowerCase();
      const roleFilter = document.getElementById('userRoleFilter').value;
      const statusFilter = document.getElementById('userStatusFilter').value;
      
      let filteredUsers = userData.filter(user => {
        // Пошук
        const matchesSearch = 
          user.username.toLowerCase().includes(searchQuery) ||
          (user.firstName && user.firstName.toLowerCase().includes(searchQuery)) ||
          (user.lastName && user.lastName.toLowerCase().includes(searchQuery)) ||
          (user.email && user.email.toLowerCase().includes(searchQuery));
        
        // Фільтр ролі
        const matchesRole = roleFilter === 'all' || user.role === roleFilter;
        
        // Фільтр статусу
        const matchesStatus = statusFilter === 'all' || user.status === statusFilter;
        
        return matchesSearch && matchesRole && matchesStatus;
      });
      
      // Відображення користувачів
      displayUsers(filteredUsers);
      
      // Оновлення пагінації
      generatePagination('usersPagination', filteredUsers.length, currentPage.users, itemsPerPage, 'users');
    }
    
    // Відображення користувачів
    function displayUsers(users) {
      const tableBody = document.querySelector('#usersTable tbody');
      tableBody.innerHTML = '';
      
      // Пагінація
      const startIndex = (currentPage.users - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      const paginatedUsers = users.slice(startIndex, endIndex);
      
      if (paginatedUsers.length === 0) {
        tableBody.innerHTML = `
          <tr>
            <td colspan="9" style="text-align: center;">Користувачів не знайдено</td>
          </tr>
        `;
        return;
      }
      
      paginatedUsers.forEach(user => {
        const row = `
          <tr>
            <td>${user.id}</td>
            <td>${user.username}</td>
            <td>${getRoleText(user.role)}</td>
            <td>${user.firstName || ''}</td>
            <td>${user.lastName || ''}</td>
            <td>${user.email || ''}</td>
            <td>${user.industries || ''}</td>
            <td>${user.skills || ''}</td>
            <td class="action-buttons">
              <button class="edit-btn" onclick="editUser(${user.id})">
                <i class="fas fa-edit"></i> Редагувати
              </button>
              <button class="reject-btn" onclick="deleteUser(${user.id})">
                <i class="fas fa-trash"></i> Видалити
              </button>
            </td>
          </tr>
        `;
        tableBody.innerHTML += row;
      });
    }
    
    // Завантаження запитів майстрів
    function loadMasterRequests() {
      showLoader();
      
      // Імітація завантаження даних
      setTimeout(() => {
        // Генерація тестових даних
        requestsData = generateMasterRequests(30);
        
        // Фільтрація та відображення
        filterRequests();
        
        // Генерація пагінації
        generatePagination('requestsPagination', requestsData.length, currentPage.requests, itemsPerPage, 'requests');
        
        hideLoader();
      }, 500);
    }
    
    // Фільтрація запитів майстрів
    function filterRequests() {
      const searchQuery = document.getElementById('requestsSearch').value.toLowerCase();
      const statusFilter = document.getElementById('requestStatusFilter').value;
      const sortFilter = document.getElementById('requestSortFilter').value;
      
      let filteredRequests = requestsData.filter(request => {
        // Пошук
        const matchesSearch = 
          request.username.toLowerCase().includes(searchQuery) ||
          (request.firstName && request.firstName.toLowerCase().includes(searchQuery)) ||
          (request.lastName && request.lastName.toLowerCase().includes(searchQuery)) ||
          (request.email && request.email.toLowerCase().includes(searchQuery));
        
        // Фільтр статусу
        const matchesStatus = statusFilter === 'all' || request.status === statusFilter;
        
        return matchesSearch && matchesStatus;
      });
      
      // Сортування
      filteredRequests.sort((a, b) => {
        const dateA = new Date(a.createdAt);
        const dateB = new Date(b.createdAt);
        
        if (sortFilter === 'newest') {
          return dateB - dateA;
        } else {
          return dateA - dateB;
        }
      });
      
      // Відображення запитів
      displayRequests(filteredRequests);
      
      // Оновлення пагінації
      generatePagination('requestsPagination', filteredRequests.length, currentPage.requests, itemsPerPage, 'requests');
    }
    
    // Відображення запитів майстрів
    function displayRequests(requests) {
      const tableBody = document.querySelector('#masterRequestsTable tbody');
      tableBody.innerHTML = '';
      
      // Пагінація
      const startIndex = (currentPage.requests - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      const paginatedRequests = requests.slice(startIndex, endIndex);
      
      if (paginatedRequests.length === 0) {
        tableBody.innerHTML = `
          <tr>
            <td colspan="10" style="text-align: center;">Запитів не знайдено</td>
          </tr>
        `;
        return;
      }
      
      paginatedRequests.forEach(request => {
        const createdDate = new Date(request.createdAt).toLocaleString('uk-UA');
        
        const row = `
          <tr>
            <td>${request.id}</td>
            <td>${request.username}</td>
            <td>${request.firstName || ''}</td>
            <td>${request.lastName || ''}</td>
            <td>${request.email || ''}</td>
            <td>${request.industries || ''}</td>
            <td>${request.skills || ''}</td>
            <td><span class="status status-${request.status}">${getStatusText(request.status)}</span></td>
            <td>${createdDate}</td>
            <td class="action-buttons">
              ${request.status === 'pending' ? `
                <button class="approve-btn" onclick="updateRequestStatus(${request.id}, 'approved')">
                  <i class="fas fa-check"></i> Затвердити
                </button>
                <button class="reject-btn" onclick="updateRequestStatus(${request.id}, 'rejected')">
                  <i class="fas fa-times"></i> Відхилити
                </button>
              ` : `
                <button class="view-btn" onclick="viewRequest(${request.id})">
                  <i class="fas fa-eye"></i> Переглянути
                </button>
              `}
            </td>
          </tr>
        `;
        tableBody.innerHTML += row;
      });
    }
    
    // Завантаження заявок
    function loadOrders() {
      showLoader();
      
      // Імітація завантаження даних
      setTimeout(() => {
        // Генерація тестових даних
        ordersData = generateOrders(100);
        
        // Фільтрація та відображення
        filterOrders();
        
        // Генерація пагінації
        generatePagination('ordersPagination', ordersData.length, currentPage.orders, itemsPerPage, 'orders');
        
        hideLoader();
      }, 500);
    }
    
    // Фільтрація заявок
    function filterOrders() {
      const searchQuery = document.getElementById('ordersSearch').value.toLowerCase();
      const statusFilter = document.getElementById('orderStatusFilter').value;
      const sortFilter = document.getElementById('orderSortFilter').value;
      
      let filteredOrders = ordersData.filter(order => {
        // Пошук
        const matchesSearch = 
          order.title.toLowerCase().includes(searchQuery) ||
          (order.description && order.description.toLowerCase().includes(searchQuery)) ||
          order.clientName.toLowerCase().includes(searchQuery) ||
          (order.masterName && order.masterName.toLowerCase().includes(searchQuery));
        
        // Фільтр статусу
        const matchesStatus = statusFilter === 'all' || order.status === statusFilter;
        
        return matchesSearch && matchesStatus;
      });
      
      // Сортування
      filteredOrders.sort((a, b) => {
        const dateA = new Date(a.createdAt);
        const dateB = new Date(b.createdAt);
        
        if (sortFilter === 'newest') {
          return dateB - dateA;
        } else {
          return dateA - dateB;
        }
      });
      
      // Відображення заявок
      displayOrders(filteredOrders);
      
      // Оновлення пагінації
      generatePagination('ordersPagination', filteredOrders.length, currentPage.orders, itemsPerPage, 'orders');
    }
    
    // Відображення заявок
    function displayOrders(orders) {
      const tableBody = document.querySelector('#ordersTable tbody');
      tableBody.innerHTML = '';
      
      // Пагінація
      const startIndex = (currentPage.orders - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      const paginatedOrders = orders.slice(startIndex, endIndex);
      
      if (paginatedOrders.length === 0) {
        tableBody.innerHTML = `
          <tr>
            <td colspan="9" style="text-align: center;">Заявок не знайдено</td>
          </tr>
        `;
        return;
      }
      
      paginatedOrders.forEach(order => {
        const createdDate = new Date(order.createdAt).toLocaleString('uk-UA');
        
        let actionButtons = '';
        
        if (order.status === 'pending') {
          actionButtons = `
            <button class="approve-btn" onclick="updateOrderStatus(${order.id}, 'approved')">
              <i class="fas fa-check"></i> Прийняти
            </button>
            <button class="reject-btn" onclick="updateOrderStatus(${order.id}, 'rejected')">
              <i class="fas fa-times"></i> Відхилити
            </button>
          `;
        } else if (order.status === 'approved') {
          actionButtons = `
            <button class="complete-btn" onclick="updateOrderStatus(${order.id}, 'completed')">
              <i class="fas fa-check-circle"></i> Завершити
            </button>
          `;
        } else {
          actionButtons = `
            <button class="view-btn" onclick="viewOrder(${order.id})">
              <i class="fas fa-eye"></i> Переглянути
            </button>
          `;
        }
        
        // Додаємо кнопку для дзвінка
        if (order.phone) {
          actionButtons += `
            <button class="call-btn" onclick="callClient('${order.phone}')">
              <i class="fas fa-phone"></i> Зателефонувати
            </button>
          `;
        }
        
        const row = `
          <tr>
            <td>${order.id}</td>
            <td>${order.title}</td>
            <td>${order.description || 'Немає опису'}</td>
            <td>${order.clientName}</td>
            <td>${order.phone}</td>
            <td><span class="status status-${order.status}">${getStatusText(order.status)}</span></td>
            <td>${order.masterName || 'Не призначено'}</td>
            <td>${createdDate}</td>
            <td class="action-buttons">
              ${actionButtons}
            </td>
          </tr>
        `;
        tableBody.innerHTML += row;
      });
    }
    
    // Завантаження нотаток
    function loadNotes() {
      showLoader();
      
      // Імітація завантаження даних
      setTimeout(() => {
        // Перевірка, чи є нотатки в локальному сховищі
        const storedNotes = localStorage.getItem('adminNotes');
        
        if (storedNotes) {
          notesData = JSON.parse(storedNotes);
        } else {
          // Генерація тестових даних
          notesData = [
            {
              id: 1,
              title: 'Важливе оновлення',
              content: 'Необхідно оновити систему до версії 2.0 до кінця місяця.',
              date: '2025-03-01T10:30:00'
            },
            {
              id: 2,
              title: 'Зустріч з майстрами',
              content: 'Запланувати зустріч з майстрами для обговорення нових правил роботи.',
              date: '2025-03-05T14:00:00'
            },
            {
              id: 3,
              title: 'Нагадування',
              content: 'Перевірити статуси всіх заявок старше 3 днів.',
              date: '2025-03-07T09:15:00'
            }
          ];
          
          // Збереження в локальне сховище
          localStorage.setItem('adminNotes', JSON.stringify(notesData));
        }
        
        // Відображення нотаток
        displayNotes();
        
        hideLoader();
      }, 500);
    }
    
    // Відображення нотаток
    function displayNotes() {
      const notesList = document.getElementById('notesList');
      notesList.innerHTML = '';
      
      const searchQuery = document.getElementById('notesSearch').value.toLowerCase();
      
      // Фільтрація нотаток
      const filteredNotes = notesData.filter(note => 
        note.title.toLowerCase().includes(searchQuery) || 
        note.content.toLowerCase().includes(searchQuery)
      );
      
      if (filteredNotes.length === 0) {
        notesList.innerHTML = '<p style="text-align: center;">Нотаток не знайдено</p>';
        return;
      }
      
      // Сортування за датою (спочатку нові)
      filteredNotes.sort((a, b) => new Date(b.date) - new Date(a.date));
      
      filteredNotes.forEach(note => {
        const noteDate = new Date(note.date).toLocaleString('uk-UA');
        
        const noteCard = document.createElement('div');
        noteCard.className = 'note-card';
        noteCard.innerHTML = `
          <div class="note-actions">
            <button class="note-action-btn" onclick="editNote(${note.id})">
              <i class="fas fa-edit"></i>
            </button>
            <button class="note-action-btn" onclick="deleteNote(${note.id})">
              <i class="fas fa-trash"></i>
            </button>
          </div>
          <div class="note-title">${note.title}</div>
          <div class="note-content">${note.content}</div>
          <div class="note-date">${noteDate}</div>
        `;
        
        notesList.appendChild(noteCard);
      });
    }
    
    // Завантаження сповіщень
    function loadNotifications() {
      // Імітація отримання сповіщень
      notificationsData = [
        {
          id: 1,
          title: 'Нова заявка',
          message: 'Надійшла нова заявка від клієнта Іван Петренко',
          time: '2025-03-08T14:30:00',
          read: false
        },
        {
          id: 2,
          title: 'Новий користувач',
          message: 'Зареєструвався новий користувач: Марія Коваленко',
          time: '2025-03-08T12:15:00',
          read: false
        },
        {
          id: 3,
          title: 'Запит на роль майстра',
          message: 'Олег Сидоренко подав запит на роль майстра',
          time: '2025-03-08T10:45:00',
          read: true
        },
        {
          id: 4,
          title: 'Завершена заявка',
          message: 'Майстер Андрій Мельник завершив заявку #325',
          time: '2025-03-07T16:20:00',
          read: true
        }
      ];
      
      // Оновлення лічильника непрочитаних сповіщень
      updateNotificationCount();
      
      // Відображення сповіщень
      displayNotifications();
    }
    
    // Відображення сповіщень
    function displayNotifications() {
      const notificationsList = document.getElementById('notificationsList');
      notificationsList.innerHTML = '';
      
      // Сортування за часом (спочатку нові)
      notificationsData.sort((a, b) => new Date(b.time) - new Date(a.time));
      
      notificationsData.forEach(notification => {
        const notificationTime = new Date(notification.time).toLocaleString('uk-UA');
        
        const notificationItem = document.createElement('li');
        notificationItem.className = `notification-item ${notification.read ? 'read' : 'unread'}`;
        notificationItem.innerHTML = `
          <div class="notification-title">${notification.title}</div>
          <div class="notification-message">${notification.message}</div>
          <div class="notification-time">${notificationTime}</div>
        `;
        
        // Додаємо обробник події для позначення сповіщення як прочитаного
        notificationItem.addEventListener('click', function() {
          markNotificationAsRead(notification.id);
        });
        
        notificationsList.appendChild(notificationItem);
      });
    }
    
    // Оновлення лічильника непрочитаних сповіщень
    function updateNotificationCount() {
      const unreadCount = notificationsData.filter(notification => !notification.read).length;
      const notificationCount = document.getElementById('notificationCount');
      
      notificationCount.textContent = unreadCount;
      
      if (unreadCount === 0) {
        notificationCount.style.display = 'none';
      } else {
        notificationCount.style.display = 'flex';
      }
    }
    
    // Позначення сповіщення як прочитаного
    function markNotificationAsRead(id) {
      const notification = notificationsData.find(n => n.id === id);
      
      if (notification && !notification.read) {
        notification.read = true;
        
        // Оновлення відображення
        displayNotifications();
        updateNotificationCount();
      }
    }
    
    // Позначення всіх сповіщень як прочитаних
    function markAllNotificationsAsRead() {
      notificationsData.forEach(notification => {
        notification.read = true;
      });
      
      // Оновлення відображення
      displayNotifications();
      updateNotificationCount();
      
      // Показати сповіщення
      showNotification('Всі сповіщення позначено як прочитані', 'success');
    }
    
    // Перемикання панелі сповіщень
    function toggleNotificationsPanel() {
      const notificationsPanel = document.getElementById('notificationsPanel');
      notificationsPanel.classList.toggle('show');
    }
    
    // Ініціалізація графіків
    function initCharts() {
      // Графік активності
      const activityCtx = document.getElementById('activityChart').getContext('2d');
      window.activityChart = new Chart(activityCtx, {
        type: 'line',
        data: {
          labels: ['Січень', 'Лютий', 'Березень', 'Квітень', 'Травень', 'Червень', 'Липень'],
          datasets: [{
            label: 'Нові користувачі',
            data: [12, 19, 15, 17, 14, 23, 25],
            borderColor: '#ff3300',
            backgroundColor: 'rgba(255, 51, 0, 0.1)',
            tension: 0.4,
            fill: true
          }, {
            label: 'Заявки',
            data: [30, 45, 38, 42, 50, 55, 63],
            borderColor: '#0066cc',
            backgroundColor: 'rgba(0, 102, 204, 0.1)',
            tension: 0.4,
            fill: true
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'top',
              labels: {
                color: isDarkMode() ? '#fff' : '#333'
              }
            },
            tooltip: {
              mode: 'index',
              intersect: false
            }
          },
          scales: {
            x: {
              grid: {
                color: isDarkMode() ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
              },
              ticks: {
                color: isDarkMode() ? '#fff' : '#333'
              }
            },
            y: {
              beginAtZero: true,
              grid: {
                color: isDarkMode() ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
              },
              ticks: {
                color: isDarkMode() ? '#fff' : '#333'
              }
            }
          }
        }
      });
      
      // Графік заявок
      const ordersCtx = document.getElementById('ordersChart').  : '#333'
              }
            }
          }
        }
      });
      
      // Графік заявок
      const ordersCtx = document.getElementById('ordersChart').getContext('2d');
      window.ordersChart = new Chart(ordersCtx, {
        type: 'bar',
        data: {
          labels: ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Нд'],
          datasets: [{
            label: 'Нові заявки',
            data: [5, 8, 12, 7, 10, 4, 2],
            backgroundColor: 'rgba(255, 51, 0, 0.7)',
            borderColor: 'rgba(255, 51, 0, 1)',
            borderWidth: 1
          }, {
            label: 'Завершені заявки',
            data: [3, 6, 9, 5, 8, 3, 1],
            backgroundColor: 'rgba(0, 204, 0, 0.7)',
            borderColor: 'rgba(0, 204, 0, 1)',
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'top',
              labels: {
                color: isDarkMode() ? '#fff' : '#333'
              }
            }
          },
          scales: {
            x: {
              grid: {
                color: isDarkMode() ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
              },
              ticks: {
                color: isDarkMode() ? '#fff' : '#333'
              }
            },
            y: {
              beginAtZero: true,
              grid: {
                color: isDarkMode() ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
              },
              ticks: {
                color: isDarkMode() ? '#fff' : '#333'
              }
            }
          }
        }
      });
    }
    
    // Оновлення графіків при зміні теми
    function updateCharts() {
      if (window.activityChart) {
        window.activityChart.options.scales.x.grid.color = isDarkMode() ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)';
        window.activityChart.options.scales.y.grid.color = isDarkMode() ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)';
        window.activityChart.options.scales.x.ticks.color = isDarkMode() ? '#fff' : '#333';
        window.activityChart.options.scales.y.ticks.color = isDarkMode() ? '#fff' : '#333';
        window.activityChart.options.plugins.legend.labels.color = isDarkMode() ? '#fff' : '#333';
        window.activityChart.update();
      }
      
      if (window.ordersChart) {
        window.ordersChart.options.scales.x.grid.color = isDarkMode() ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)';
        window.ordersChart.options.scales.y.grid.color = isDarkMode() ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)';
        window.ordersChart.options.scales.x.ticks.color = isDarkMode() ? '#fff' : '#333';
        window.ordersChart.options.scales.y.ticks.color = isDarkMode() ? '#fff' : '#333';
        window.ordersChart.options.plugins.legend.labels.color = isDarkMode() ? '#fff' : '#333';
        window.ordersChart.update();
      }
    }
    
    // Ініціалізація календаря
    function initCalendar() {
      updateCalendar();
    }
    
    // Оновлення календаря
    function updateCalendar() {
      const calendarGrid = document.getElementById('calendarGrid');
      const calendarTitle = document.getElementById('calendarTitle');
      
      // Очищення сітки
      calendarGrid.innerHTML = '';
      
      // Отримання поточного місяця і року
      const year = selectedDate.getFullYear();
      const month = selectedDate.getMonth();
      
      // Оновлення заголовка
      const monthNames = ['Січень', 'Лютий', 'Березень', 'Квітень', 'Травень', 'Червень', 'Липень', 'Серпень', 'Вересень', 'Жовтень', 'Листопад', 'Грудень'];
      calendarTitle.textContent = `${monthNames[month]} ${year}`;
      
      // Додавання заголовків днів тижня
      const dayNames = ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Нд'];
      dayNames.forEach(day => {
        const dayHeader = document.createElement('div');
        dayHeader.className = 'calendar-day-header';
        dayHeader.textContent = day;
        calendarGrid.appendChild(dayHeader);
      });
      
      // Отримання першого дня місяця
      const firstDay = new Date(year, month, 1);
      
      // Отримання останнього дня місяця
      const lastDay = new Date(year, month + 1, 0);
      
      // Отримання дня тижня першого дня місяця (0 - неділя, 1 - понеділок, ...)
      let firstDayOfWeek = firstDay.getDay();
      // Перетворення на європейський формат (0 - понеділок, 6 - неділя)
      firstDayOfWeek = firstDayOfWeek === 0 ? 6 : firstDayOfWeek - 1;
      
      // Додавання пустих клітинок для днів попереднього місяця
      for (let i = 0; i < firstDayOfWeek; i++) {
        const emptyDay = document.createElement('div');
        emptyDay.className = 'calendar-day';
        calendarGrid.appendChild(emptyDay);
      }
      
      // Додавання днів поточного місяця
      const today = new Date();
      
      for (let i = 1; i <= lastDay.getDate(); i++) {
        const day = document.createElement('div');
        day.className = 'calendar-day';
        day.textContent = i;
        
        // Перевірка, чи це сьогоднішній день
        if (year === today.getFullYear() && month === today.getMonth() && i === today.getDate()) {
          day.classList.add('today');
        }
        
        // Перевірка, чи є заявки на цей день
        const hasEvents = checkEventsForDay(year, month, i);
        if (hasEvents) {
          day.classList.add('has-events');
        }
        
        // Додавання обробника події для вибору дня
        day.addEventListener('click', function() {
          // Оновлення вибраної дати
          selectedDate = new Date(year, month, i);
          
          // Оновлення календаря
          updateCalendar();
          
          // Завантаження заявок на вибрану дату
          loadCalendarOrders(selectedDate);
        });
        
        calendarGrid.appendChild(day);
      }
      
      // Завантаження заявок на вибрану дату
      loadCalendarOrders(selectedDate);
    }
    
    // Перевірка наявності заявок на певний день
    function checkEventsForDay(year, month, day) {
      // Імітація перевірки наявності заявок
      // В реальному додатку тут буде перевірка з бази даних
      return Math.random() > 0.7;
    }
    
    // Завантаження заявок на вибрану дату
    function loadCalendarOrders(date) {
      const tableBody = document.querySelector('#calendarOrdersTable tbody');
      tableBody.innerHTML = '';
      
      // Імітація завантаження заявок на вибрану дату
      const dateString = date.toLocaleDateString('uk-UA');
      
      // Фільтрація заявок за датою
      const filteredOrders = ordersData.filter(order => {
        const orderDate = new Date(order.createdAt).toLocaleDateString('uk-UA');
        return orderDate === dateString;
      });
      
      if (filteredOrders.length === 0) {
        tableBody.innerHTML = `
          <tr>
            <td colspan="6" style="text-align: center;">Заявок на ${dateString} не знайдено</td>
          </tr>
        `;
        return;
      }
      
      filteredOrders.forEach(order => {
        const orderTime = new Date(order.createdAt).toLocaleTimeString('uk-UA');
        
        const row = `
          <tr>
            <td>${order.id}</td>
            <td>${order.title}</td>
            <td>${order.clientName}</td>
            <td><span class="status status-${order.status}">${getStatusText(order.status)}</span></td>
            <td>${orderTime}</td>
            <td>
              <button class="view-btn" onclick="viewOrder(${order.id})">
                <i class="fas fa-eye"></i> Переглянути
              </button>
            </td>
          </tr>
        `;
        tableBody.innerHTML += row;
      });
    }
    
    // Зміна місяця в календарі
    function changeMonth(delta) {
      const newDate = new Date(selectedDate);
      newDate.setMonth(newDate.getMonth() + delta);
      selectedDate = newDate;
      updateCalendar();
    }
    
    // Генерація пагінації
    function generatePagination(containerId, totalItems, currentPageNum, itemsPerPage, pageType) {
      const container = document.getElementById(containerId);
      container.innerHTML = '';
      
      const totalPages = Math.ceil(totalItems / itemsPerPage);
      
      if (totalPages <= 1) {
        return;
      }
      
      // Кнопка "Попередня"
      const prevButton = document.createElement('button');
      prevButton.innerHTML = '<i class="fas fa-chevron-left"></i>';
      prevButton.disabled = currentPageNum === 1;
      prevButton.addEventListener('click', function() {
        if (currentPageNum > 1) {
          currentPage[pageType] = currentPageNum - 1;
          
          if (pageType === 'users') {
            filterUsers();
          } else if (pageType === 'requests') {
            filterRequests();
          } else if (pageType === 'orders') {
            filterOrders();
          }
        }
      });
      container.appendChild(prevButton);
      
      // Номери сторінок
      const maxVisiblePages = 5;
      let startPage = Math.max(1, currentPageNum - Math.floor(maxVisiblePages / 2));
      let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
      
      if (endPage - startPage + 1 < maxVisiblePages) {
        startPage = Math.max(1, endPage - maxVisiblePages + 1);
      }
      
      for (let i = startPage; i <= endPage; i++) {
        const pageButton = document.createElement('button');
        pageButton.textContent = i;
        pageButton.className = i === currentPageNum ? 'active' : '';
        pageButton.addEventListener('click', function() {
          currentPage[pageType] = i;
          
          if (pageType === 'users') {
            filterUsers();
          } else if (pageType === 'requests') {
            filterRequests();
          } else if (pageType === 'orders') {
            filterOrders();
          }
        });
        container.appendChild(pageButton);
      }
      
      // Кнопка "Наступна"
      const nextButton = document.createElement('button');
      nextButton.innerHTML = '<i class="fas fa-chevron-right"></i>';
      nextButton.disabled = currentPageNum === totalPages;
      nextButton.addEventListener('click', function() {
        if (currentPageNum < totalPages) {
          currentPage[pageType] = currentPageNum + 1;
          
          if (pageType === 'users') {
            filterUsers();
          } else if (pageType === 'requests') {
            filterRequests();
          } else if (pageType === 'orders') {
            filterOrders();
          }
        }
      });
      container.appendChild(nextButton);
    }
    
    // Функції для роботи з користувачами
    function editUser(userId) {
      const user = userData.find(u => u.id === userId);
      
      if (user) {
        document.getElementById('userId').value = user.id;
        document.getElementById('username').value = user.username;
        document.getElementById('firstName').value = user.firstName || '';
        document.getElementById('lastName').value = user.lastName || '';
        document.getElementById('email').value = user.email || '';
        document.getElementById('userRole').value = user.role;
        document.getElementById('userStatus').value = user.status;
        
        document.getElementById('userModal').style.display = 'flex';
      }
    }
    
    function openUserModal() {
      // Очищення форми
      document.getElementById('userId').value = '';
      document.getElementById('username').value = '';
      document.getElementById('firstName').value = '';
      document.getElementById('lastName').value = '';
      document.getElementById('email').value = '';
      document.getElementById('userRole').value = 'user';
      document.getElementById('userStatus').value = 'active';
      
      document.getElementById('userModal').style.display = 'flex';
    }
    
    function saveUser() {
      const userId = document.getElementById('userId').value;
      const username = document.getElementById('username').value;
      const firstName = document.getElementById('firstName').value;
      const lastName = document.getElementById('lastName').value;
      const email = document.getElementById('email').value;
      const role = document.getElementById('userRole').value;
      const status = document.getElementById('userStatus').value;
      
      if (!username || !email) {
        showNotification('Будь ласка, заповніть обов\'язкові поля', 'error');
        return;
      }
      
      if (userId) {
        // Редагування існуючого користувача
        const userIndex = userData.findIndex(u => u.id === parseInt(userId));
        
        if (userIndex !== -1) {
          userData[userIndex] = {
            ...userData[userIndex],
            username,
            firstName,
            lastName,
            email,
            role,
            status
          };
          
          showNotification('Користувача успішно оновлено', 'success');
        }
      } else {
        // Додавання нового користувача
        const newUser = {
          id: userData.length > 0 ? Math.max(...userData.map(u => u.id)) + 1 : 1,
          username,
          firstName,
          lastName,
          email,
          role,
          status,
          industries: '',
          skills: ''
        };
        
        userData.push(newUser);
        
        showNotification('Користувача успішно додано', 'success');
      }
      
      // Закриття модального вікна
      document.getElementById('userModal').style.display = 'none';
      
      // Оновлення таблиці
      filterUsers();
    }
    
    function deleteUser(userId) {
      if (confirm('Ви впевнені, що хочете видалити цього користувача?')) {
        const userIndex = userData.findIndex(u => u.id === userId);
        
        if (userIndex !== -1) {
          userData.splice(userIndex, 1);
          
          // Оновлення таблиці
          filterUsers();
          
          showNotification('Користувача успішно видалено', 'success');
        }
      }
    }
    
    // Функції для роботи з запитами майстрів
    function updateRequestStatus(requestId, status) {
      const statusText = status === 'approved' ? 'затвердити' : 'відхилити';
      
      if (confirm(`Ви впевнені, що хочете ${statusText} цей запит?`)) {
        const requestIndex = requestsData.findIndex(r => r.id === requestId);
        
        if (requestIndex !== -1) {
          requestsData[requestIndex].status = status;
          
          // Якщо запит затверджено, оновлюємо роль користувача
          if (status === 'approved') {
            const userId = requestsData[requestIndex].userId;
            const userIndex = userData.findIndex(u => u.id === userId);
            
            if (userIndex !== -1) {
              userData[userIndex].role = 'master';
            }
          }
          
          // Оновлення таблиці
          filterRequests();
          
          showNotification(`Запит успішно ${status === 'approved' ? 'затверджено' : 'відхилено'}`, 'success');
        }
      }
    }
    
    function viewRequest(requestId) {
      const request = requestsData.find(r => r.id === requestId);
      
      if (request) {
        alert(`
          Запит #${request.id}
          Користувач: ${request.username}
          Ім'я: ${request.firstName || ''}
          Прізвище: ${request.lastName || ''}
          Email: ${request.email || ''}
          Галузі: ${request.industries || ''}
          Навички: ${request.skills || ''}
          Статус: ${getStatusText(request.status)}
          Дата створення: ${new Date(request.createdAt).toLocaleString('uk-UA')}
        `);
      }
    }
    
    // Функції для роботи з заявками
    function updateOrderStatus(orderId, status) {
      const statusTexts = {
        'approved': 'прийняти',
        'rejected': 'відхилити',
        'completed': 'завершити'
      };
      
      const statusText = statusTexts[status] || status;
      
      if (confirm(`Ви впевнені, що хочете ${statusText} цю заявку?`)) {
        const orderIndex = ordersData.findIndex(o => o.id === orderId);
        
        if (orderIndex !== -1) {
          ordersData[orderIndex].status = status;
          
          // Якщо заявку прийнято, призначаємо поточного користувача як майстра
          if (status === 'approved') {
            // В реальному додатку тут буде ID поточного користувача
            ordersData[orderIndex].masterId = 1;
            ordersData[orderIndex].masterName = 'Адміністратор';
          }
          
          // Оновлення таблиці
          filterOrders();
          
          showNotification(`Заявку успішно ${statusText === 'прийняти' ? 'прийнято' : (statusText === 'відхилити' ? 'відхилено' : 'завершено')}`, 'success');
        }
      }
    }
    
    function viewOrder(orderId) {
      const order = ordersData.find(o => o.id === orderId);
      
      if (order) {
        // Заповнення деталей заявки
        const orderDetails = document.getElementById('orderDetails');
        orderDetails.innerHTML = `
          <div class="form-group">
            <label>ID заявки</label>
            <div>${order.id}</div>
          </div>
          <div class="form-group">
            <label>Тема</label>
            <div>${order.title}</div>
          </div>
          <div class="form-group">
            <label>Опис</label>
            <div>${order.description || 'Немає опису'}</div>
          </div>
          <div class="form-group">
            <label>Клієнт</label>
            <div>${order.clientName}</div>
          </div>
          <div class="form-group">
            <label>Телефон</label>
            <div>${order.phone}</div>
          </div>
          <div class="form-group">
            <label>Статус</label>
            <div><span class="status status-${order.status}">${getStatusText(order.status)}</span></div>
          </div>
          <div class="form-group">
            <label>Майстер</label>
            <div>${order.masterName || 'Не призначено'}</div>
          </div>
          <div class="form-group">
            <label>Дата створення</label>
            <div>${new Date(order.createdAt).toLocaleString('uk-UA')}</div>
          </div>
        `;
        
        // Заповнення поля статусу
        document.getElementById('orderStatus').value = order.status;
        
        // Заповнення поля майстра
        const assignMasterSelect = document.getElementById('assignMaster');
        assignMasterSelect.innerHTML = '<option value="">Виберіть майстра</option>';
        
        // Отримання списку майстрів
        const masters = userData.filter(u => u.role === 'master');
        
        masters.forEach(master => {
          const option = document.createElement('option');
          option.value = master.id;
          option.textContent = `${master.firstName || ''} ${master.lastName || ''} (${master.username})`;
          option.selected = order.masterId === master.id;
          assignMasterSelect.appendChild(option);
        });
        
        // Відображення модального вікна
        document.getElementById('orderModal').style.display = 'flex';
      }
    }
    
    function saveOrder() {
      const orderDetails = document.querySelector('#orderDetails');
      const orderId = parseInt(orderDetails.querySelector('div').textContent);
      const status = document.getElementById('orderStatus').value;
      const masterId = document.getElementById('assignMaster').value;
      const note = document.getElementById('orderNote').value;
      
      const orderIndex = ordersData.findIndex(o => o.id === orderId);
      
      if (orderIndex !== -1) {
        // Оновлення статусу
        ordersData[orderIndex].status = status;
        
        // Оновлення майстра
        if (masterId) {
          const master = userData.find(u => u.id === parseInt(masterId));
          
          if (master) {
            ordersData[orderIndex].masterId = master.id;
            ordersData[orderIndex].masterName = `${master.firstName || ''} ${master.lastName || ''} (${master.username})`;
          }
        }
        
        // Додавання примітки
        if (note) {
          ordersData[orderIndex].note = note;
        }
        
        // Оновлення таблиці
        filterOrders();
        
        // Закриття модального вікна
        document.getElementById('orderModal').style.display = 'none';
        
        showNotification('Заявку успішно оновлено', 'success');
      }
    }
    
    function callClient(phoneNumber) {
      // Видалення всіх нецифрових символів з номера телефону
      const cleanPhoneNumber = phoneNumber.replace(/\D/g, '');
      
      // Створення посилання для дзвінка
      window.location.href = `tel:${cleanPhoneNumber}`;
    }
    
    // Функції для роботи з нотатками
    function openNoteModal(noteId) {
      if (noteId) {
        const note = notesData.find(n => n.id === noteId);
        
        if (note) {
          document.getElementById('noteId').value = note.id;
          document.getElementById('noteTitle').value = note.title;
          document.getElementById('noteContent').value = note.content;
        }
      } else {
        document.getElementById('noteId').value = '';
        document.getElementById('noteTitle').value = '';
        document.getElementById('noteContent').value = '';
      }
      
      document.getElementById('noteModal').style.display = 'flex';
    }
    
    function saveNote() {
      const noteId = document.getElementById('noteId').value;
      const title = document.getElementById('noteTitle').value;
      const content = document.getElementById('noteContent').value;
      
      if (!title || !content) {
        showNotification('Будь ласка, заповніть всі поля', 'error');
        return;
      }
      
      if (noteId) {
        // Редагування існуючої нотатки
        const noteIndex = notesData.findIndex(n => n.id === parseInt(noteId));
        
        if (noteIndex !== -1) {
          notesData[noteIndex] = {
            ...notesData[noteIndex],
            title,
            content,
            date: new Date().toISOString()
          };
          
          showNotification('Нотатку успішно оновлено', 'success');
        }
      } else {
        // Додавання нової нотатки
        const newNote = {
          id: notesData.length > 0 ? Math.max(...notesData.map(n => n.id)) + 1 : 1,
          title,
          content,
          date: new Date().toISOString()
        };
        
        notesData.push(newNote);
        
        showNotification('Нотатку успішно додано', 'success');
      }
      
      // Збереження в локальне сховище
      localStorage.setItem('adminNotes', JSON.stringify(notesData));
      
      // Закриття модального вікна
      document.getElementById('noteModal').style.display = 'none';
      
      // Оновлення списку нотаток
      displayNotes();
    }
    
    function editNote(noteId) {
      openNoteModal(noteId);
    }
    
    function deleteNote(noteId) {
      if (confirm('Ви впевнені, що хочете видалити цю нотатку?')) {
        const noteIndex = notesData.findIndex(n => n.id === noteId);
        
        if (noteIndex !== -1) {
          notesData.splice(noteIndex, 1);
          
          // Збереження в локальне сховище
          localStorage.setItem('adminNotes', JSON.stringify(notesData));
          
          // Оновлення списку нотаток
          displayNotes();
          
          showNotification('Нотатку успішно видалено', 'success');
        }
      }
    }
    
    // Функції для роботи з налаштуваннями
    function saveSettings() {
      const siteTitle = document.getElementById('siteTitle').value;
      const adminEmail = document.getElementById('adminEmail').value;
      const itemsPerPageValue = parseInt(document.getElementById('itemsPerPage').value);
      const notifyNewOrders = document.getElementById('notifyNewOrders').checked;
      const notifyNewUsers = document.getElementById('notifyNewUsers').checked;
      const notifyMasterRequests = document.getElementById('notifyMasterRequests').checked;
      
      // Валідація
      if (!siteTitle || !adminEmail) {
        showNotification('Будь ласка, заповніть всі обов\'язкові поля', 'error');
        return;
      }
      
      // Збереження налаштувань
      const settings = {
        siteTitle,
        adminEmail,
        itemsPerPage: itemsPerPageValue,
        notifications: {
          newOrders: notifyNewOrders,
          newUsers: notifyNewUsers,
          masterRequests: notifyMasterRequests
        }
      };
      
      // Збереження в локальне сховище
      localStorage.setItem('adminSettings', JSON.stringify(settings));
      
      // Оновлення глобальної змінної
      itemsPerPage = itemsPerPageValue;
      
      showNotification('Налаштування успішно збережено', 'success');
    }
    
    // Функції для експорту даних
    function exportUsersToCSV() {
      // Створення CSV-рядка
      let csv = 'ID,Ім\'я користувача,Роль,Ім\'я,Прізвище,Email,Галузі,Навички\n';
      
      userData.forEach(user => {
        csv += `${user.id},"${user.username}","${getRoleText(user.role)}","${user.firstName || ''}","${user.lastName || ''}","${user.email || ''}","${user.industries || ''}","${user.skills || ''}"\n`;
      });
      
      // Створення посилання для завантаження
      const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
      const url = URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.setAttribute('href', url);
      link.setAttribute('download', 'users.csv');
      link.style.visibility = 'hidden';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      
      showNotification('Експорт користувачів у CSV успішно завершено', 'success');
    }
    
    function exportUsersToPDF() {
      showNotification('Експорт у PDF буде доступний у наступній версії', 'info');
    }
    
    function exportOrdersToCSV() {
      // Створення CSV-рядка
      let csv = 'ID,Тема,Опис,Клієнт,Телефон,Статус,Майстер,Дата створення\n';
      
      ordersData.forEach(order => {
        csv += `${order.id},"${order.title}","${order.description || ''}","${order.clientName}","${order.phone}","${getStatusText(order.status)}","${order.masterName || 'Не призначено'}","${new Date(order.createdAt).toLocaleString('uk-UA')}"\n`;
      });
      
      // Створення посилання для завантаження
      const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
      const url = URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.setAttribute('href', url);
      link.setAttribute('download', 'orders.csv');
      link.style.visibility = 'hidden';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      
      showNotification('Експорт заявок у CSV успішно завершено', 'success');
    }
    
    function exportOrdersToPDF() {
      showNotification('Експорт у PDF буде доступний у наступній версії', 'info');
    }
    
    // Допоміжні функції
    function getStatusText(status) {
      switch(status) {
        case 'pending': return 'На розгляді';
        case 'approved': return 'Затверджено';
        case 'rejected': return 'Відхилено';
        case 'completed': return 'Завершено';
        default: return '';
      }
    }
    
    function getRoleText(role) {
      switch(role) {
        case 'user': return 'Користувач';
        case 'master': return 'Майстер';
        case 'admin': return 'Адміністратор';
        default: return '';
      }
    }
    
    function showLoader() {
      document.getElementById('loader').style.display = 'flex';
    }
    
    function hideLoader() {
      document.getElementById('loader').style.display = 'none';
    }
    
    function showNotification(message, type) {
      const notification = document.getElementById('notification');
      const notificationText = document.getElementById('notificationText');
      
      notification.className = 'notification';
      notification.classList.add(type);
      notificationText.textContent = message;
      
      notification.classList.add('show');
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    }
    
    function isDarkMode() {
      return !document.documentElement.classList.contains('light');
    }
    
    // Функція для отримання даних користувача
    function getUserData() {
      // Імітація отримання даних користувача
      const userData = {
        id: 1,
        username: 'admin',
        firstName: 'Адміністратор',
        lastName: 'Системи',
        role: 'admin'
      };
      
      // Оновлення інформації про користувача в інтерфейсі
      document.getElementById('userName').textContent = `${userData.firstName} ${userData.lastName}`;
      document.getElementById('userRole').textContent = getRoleText(userData.role);
      document.getElementById('userAvatar').textContent = userData.firstName.charAt(0);
      
      // Збереження ID користувача в локальне сховище
      localStorage.setItem('userId', userData.id);
      localStorage.setItem('userRole', userData.role);
    }
    
    // Генерація тестових даних
    function generateUsers(count) {
      const users = [];
      
      for (let i = 1; i <= count; i++) {
        const role = Math.random() > 0.7 ? 'master' : (Math.random() > 0.9 ? 'admin' : 'user');
        const status = Math.random() > 0.2 ? 'active' : 'inactive';
        
        const user = {
          id: i,
          username: `user${i}`,
          firstName: `Ім'я${i}`,
          lastName: `Прізвище${i}`,
          email: `user${i}@example.com`,
          role,
          status,
          industries: role === 'master' ? 'Електрика, Сантехніка' : '',
          skills: role === 'master' ? 'Ремонт розеток, Заміна труб' : ''
        };
        
        users.push(user);
      }
      
      return users;
    }
    
    function generateMasterRequests(count) {
      const requests = [];
      
      for (let i = 1; i <= count; i++) {
        const status = i <= 10 ? 'pending' : (Math.random() > 0.5 ? 'approved' : 'rejected');
        const createdAt = new Date();
        createdAt.setDate(createdAt.getDate() - Math.floor(Math.random() * 30));
        
        const request = {
          id: i,
          userId: i + 100,
          username: `master${i}`,
          firstName: `Майстер${i}`,
          lastName: `Прізвище${i}`,
          email: `master${i}@example.com`,
          industries: 'Електрика, Сантехніка',
          skills: 'Ремонт розеток, Заміна труб',
          status,
          createdAt: createdAt.toISOString()
        };
        
        requests.push(request);
      }
      
      return requests;
    }
    
    function generateOrders(count) {
      const orders = [];
      const statuses = ['pending', 'approved', 'rejected', 'completed'];
      const titles = [
        'Ремонт холодильника',
        'Заміна розетки',
        'Налаштування Wi-Fi',
        'Ремонт пральної машини',
        'Встановлення кондиціонера',
        'Ремонт телевізора',
        'Заміна змішувача',
        'Ремонт комп\'ютера',
        'Встановлення дверей',
        'Ремонт меблів'
      ];
      
      for (let i = 1; i <= count; i++) {
        const status = statuses[Math.floor(Math.random() * statuses.length)];
        const createdAt = new Date();
        createdAt.setDate(createdAt.getDate() - Math.floor(Math.random() * 30));
        
        const hasMaster = status === 'approved' || status === 'completed';
        
        const order = {
          id: i,
          title: titles[Math.floor(Math.random() * titles.length)],
          description: `Детальний опис заявки #${i}. Тут клієнт описує свою проблему та вказує деталі.`,
          clientId: i + 200,
          clientName: `Клієнт${i} Прізвище${i}`,
          phone: `+380${Math.floor(Math.random() * 10)}${Math.floor(Math.random() * 10)}${Math.floor(Math.random() * 10)}${Math.floor(Math.random() * 10)}${Math.floor(Math.random() * 10)}${Math.floor(Math.random() * 10)}${Math.floor(Math.random() * 10)}`,
          status,
          masterId: hasMaster ? Math.floor(Math.random() * 10) + 1 : null,
          masterName: hasMaster ? `Майстер${Math.floor(Math.random() * 10) + 1} Прізвище${Math.floor(Math.random() * 10) + 1}` : null,
          createdAt: createdAt.toISOString()
        };
        
        orders.push(order);
      }
      
      return orders;
    }
  </script>
</body>
</html>